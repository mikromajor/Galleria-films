(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{28:function(e,t,a){e.exports={cardBody:"Film_cardBody__3Qgt5",filmCard:"Film_filmCard__20yJc",filmCard__expanded:"Film_filmCard__expanded__1k41o",cardButtonsRow:"Film_cardButtonsRow__32fFr",card_btn_remove:"Film_card_btn_remove__VlRQq"}},34:function(e,t,a){e.exports={form:"CheckGenre_form__2YWvi",checked:"CheckGenre_checked__Eo2yn",checkbox:"CheckGenre_checkbox__Xu8Tp"}},48:function(e,t,a){e.exports={card_marg:"FavoriteList_card_marg__3o1LT",no_films:"FavoriteList_no_films__2KHSp",card_btn_delFilm:"FavoriteList_card_btn_delFilm__2LULz"}},51:function(e,t,a){e.exports={loadText:"Loader_loadText__3dRbg",loading:"Loader_loading__3fl-5",rotate:"Loader_rotate__1rFJg"}},54:function(e,t,a){e.exports={counter:"Counter_counter__iyJHm"}},59:function(e,t,a){e.exports={center:"FilmsList_center__2d5r_",hidden:"FilmsList_hidden__bVKK1"}},67:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=a(5),s=a(82),l=a(83),d=a(42),u=a(79),j=a(34),b=a.n(j),f=a(1),v=function(e){var t=e.label,a=e.genreId,r=e.getGenre,c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],l=o[1];return Object(f.jsxs)("form",{className:s?"".concat(b.a.form," ").concat(b.a.checked):b.a.form,onClick:function(){console.log("checked",s),r(a,!s),l(!s)},children:[Object(f.jsx)("input",{className:b.a.checkbox,type:"checkbox",checked:s,readOnly:!0}),t]})},h=a(54),x=a.n(h),m=function(e){var t=e.favoriteList;return Object(f.jsx)("div",{className:x.a.counter,children:t.length})},_=a(81),g=function(e){var t=e.getGenre;return Object(f.jsx)(_.a,{id:"nav-dropdown-dark-example",title:"Choose genre",menuVariant:"dark",children:Object(f.jsxs)("div",{className:"center green",children:[Object(f.jsx)(v,{label:"Action",genreId:"28",getGenre:t}),Object(f.jsx)(v,{label:"Carton",genreId:"16",getGenre:t}),Object(f.jsx)(v,{label:"Comedy",genreId:"35",getGenre:t}),Object(f.jsx)(v,{label:"Fantasy",genreId:"14",getGenre:t}),Object(f.jsx)(v,{label:"Fantastic",genreId:"878",getGenre:t})]})})},O=function(e){var t=e.options,a=e.defaultName,n=(e.value,e.setKeyWordSort);return Object(f.jsxs)("select",{name:a,id:"selectDropdownSort",onChange:function(e){return n(e.currentTarget.value)},defaultValue:"0",children:[Object(f.jsx)("option",{value:"0",disabled:!0,children:a}),t.map((function(e){return Object(f.jsx)("option",{value:e.val,children:e.name},e.val)}))]})},p=a(51),k=a.n(p),F=function(){return Object(f.jsxs)("div",{className:k.a.loadText,children:["Loading...",Object(f.jsx)("div",{className:k.a.loading})]})},y=a(52),L=a.n(y),C=a(57);function S(){return(S=Object(C.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t){e.next=3;break}throw new Error("Wrong url in request");case 3:return e.next=5,fetch(t);case 5:if(204!==(a=e.sent).status){e.next=9;break}return console.log("response.status === 204 (No content)"),e.abrupt("return");case 9:if(a.ok){e.next=13;break}throw new Error("Error. Response status  fetch is: ".concat(a.status));case 13:return e.next=15,a.json();case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){return S.apply(this,arguments)},T="https://image.tmdb.org/t/p/w500",N=[{val:"original_title",name:"Original title"},{val:"release_date",name:"Release date"},{val:"vote_average",name:"Vote average"},{val:"vote_count",name:"Vote count"}],I=function(e,t,a){var n="";console.log("getMovies fire, genres are ->",e),e.length?(n="".concat("https://api.themoviedb.org/3","/discover/movie?api_key=").concat("29b19dec74f080a60c50986cda85b141").concat("&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=true&page=1","&with_genres=").concat(e.join()),a(!0),w(n).then((function(e){console.log("in getMovies---\x3e",e.results),t(e.results),a(!1)})).catch((function(e){return console.log("ups!!!",e)}))):t([])},G=a(13),B=function(e,t,a,n){n?(e.length||t([a]),e.some((function(e){return e===a}))||t([].concat(Object(G.a)(e),[a]))):n||t(e.filter((function(e){return e!==a})))},R=(a(67),function(e){var t=e.setFilmsData,a=e.keyWordSort,r=e.setKeyWordSort,c=e.setShowFavoriteList,o=e.showFavoriteList,j=e.favoriteList,b=e.setIsLoading,v=Object(n.useState)([]),h=Object(i.a)(v,2),x=h[0],_=h[1];return Object(f.jsxs)(s.a,{variant:"dark",bg:"dark",expand:"lg",fixed:"top",children:[Object(f.jsx)(s.a.Brand,{children:"FilmsTime"}),Object(f.jsx)(s.a.Toggle,{"aria-controls":"navbar-dark-example"}),Object(f.jsx)(s.a.Collapse,{id:"navbar-dark-example",children:Object(f.jsxs)(l.a,{children:[Object(f.jsx)(l.a.Item,{children:Object(f.jsx)(l.a.Link,{href:"#home",children:"Home"})}),Object(f.jsx)(g,{getGenre:function(e,t){B(x,_,e,t)}}),Object(f.jsx)(d.a,{variant:"primary",onClick:function(){return I(x,t,b)},children:"Click to load"}),Object(f.jsx)(O,{options:N,defaultName:"Sort",value:a,setKeyWordSort:r}),Object(f.jsx)(u.a,{id:"toggle-check",type:"checkbox",variant:"outline-success",checked:o,value:"",onChange:function(e){return c(e.currentTarget.checked)},children:"My favoriteList"}),Object(f.jsx)(m,{favoriteList:j})]})})]})}),W=a(80),E=a(84),D=a(48),V=a.n(D),K=function(e){var t=e.favoriteList,a=e.setFavoriteList;if(!t.length)return Object(f.jsxs)("div",{className:V.a.no_films,children:[Object(f.jsx)("h1",{children:"You haven't selected films."}),Object(f.jsx)("h4",{children:"Please ENTER My favoriteList to esc"})]});return Object(f.jsx)(W.a,{id:"home",style:{marginTop:"20px",justifyContent:"center",paddingTop:"50px",backgroundColor:"#F8FFAF"},children:t.map((function(e){return Object(f.jsxs)(E.a,{style:{width:"20rem"},bg:"success ".concat(V.a.card_marg),children:[Object(f.jsx)(E.a.Img,{variant:"top",src:"".concat(T).concat(e.poster_path)}),Object(f.jsxs)(E.a.Body,{children:[Object(f.jsx)(E.a.Title,{children:e.title}),Object(f.jsxs)(E.a.Subtitle,{className:"mb-2",children:["Vote average ",e.vote_average]}),Object(f.jsxs)(E.a.Subtitle,{children:["Counts ",e.vote_count]}),Object(f.jsx)("br",{}),Object(f.jsxs)(E.a.Subtitle,{children:["Release date ",e.release_date]}),Object(f.jsx)("br",{}),Object(f.jsx)(E.a.Text,{id:"cardText_".concat(e.id),children:e.overview}),Object(f.jsx)(d.a,{className:V.a.card_btn_delFilm,variant:"danger",value:e.id,onClick:function(e){var n;n=e.currentTarget.value,a(t.filter((function(e){return"".concat(e.id)!==n})))},children:"Delete from favoriteList"})]})]},"MyList".concat(e.id))}))})},M=a(58),J=a(28),A=a.n(J),H=function(e){var t=e.film,a=e.isInFavorites,r=e.addToFavoriteList,c=e.deleteFromFavoriteList,o=t.id,s=t.title,l=t.poster_path,u=t.overview,j=t.vote_count,b=t.vote_average,v=t.release_date,h=Object(n.useState)(!1),x=Object(i.a)(h,2),m=x[0],_=x[1];return Object(f.jsxs)(E.a,{style:{width:"20rem"},bg:"".concat(a?"success":"primary"),className:"".concat(A.a.filmCard," ").concat(m&&A.a.filmCard__expanded),children:[Object(f.jsx)(E.a.Img,{variant:"top",src:"".concat(T).concat(l)}),Object(f.jsxs)(E.a.Body,{className:A.a.cardBody,children:[Object(f.jsx)(E.a.Title,{children:s}),Object(f.jsxs)(E.a.Subtitle,{className:"mb-2",children:["Vote average ",b,Object(f.jsx)("br",{}),"Counts ",j,Object(f.jsx)("br",{}),"Release date ",v,Object(f.jsx)("br",{})]}),m&&Object(f.jsx)(E.a.Text,{children:u}),Object(f.jsxs)("div",{className:A.a.cardButtonsRow,children:[Object(f.jsx)(d.a,{variant:"dark",onClick:function(){_((function(e){return!e}))},children:m?"Collapse":"Expand"}),Object(f.jsx)(d.a,{variant:"success",onClick:function(){r(o)},children:"Add to favorite"}),a&&Object(f.jsx)(M.a,{className:A.a.card_btn_remove,style:{border:"3px solid red"},variant:"white",onClick:function(){return c(o)}})]})]})]})},q=function(e,t,a){e.length&&t.length&&t.every((function(t){return"string"===typeof t[e]||"number"}))&&a(Object(G.a)(t).sort((function(t,a){return"original_title"===e?t[e]>a[e]?1:-1:t[e]<a[e]?1:-1})))},P=a(59),Q=a.n(P),U=function(e){var t=e.filmsData,a=e.setFilmsData,r=e.favoriteList,c=e.setFavoriteList,o=e.keyWordSort,i=e.isLoading;Object(n.useEffect)((function(){i||(q(o,t,a),q(o,r,c))}),[o,i]);var s=Object(n.useCallback)((function(e){c((function(t){return t.filter((function(t){return t.id!==e}))}))}),[c]),l=Object(n.useCallback)((function(e){var a=t.filter((function(t){return t.id===e}));r.length||c(a),r.every((function(t){return t.id!==e}))&&c([].concat(Object(G.a)(r),Object(G.a)(a)))}),[t,r,c]);return t.length?Object(f.jsx)(W.a,{id:"home",style:{justifyContent:"center",marginTop:"20px",paddingTop:"50px",backgroundColor:"#F8FFAF"},children:t.map((function(e){var t=!!r.filter((function(t){return t.id===e.id})).length;return Object(f.jsx)(H,{film:e,isInFavorites:t,deleteFromFavoriteList:s,addToFavoriteList:l},e.id)}))}):Object(f.jsx)("h3",{className:Q.a.center,children:"Please, choose genres"})};var Y=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(i.a)(c,2),s=o[0],l=o[1],d=Object(n.useState)([]),u=Object(i.a)(d,2),j=u[0],b=u[1],v=Object(n.useState)([]),h=Object(i.a)(v,2),x=h[0],m=h[1],_=Object(n.useState)(!1),g=Object(i.a)(_,2),O=g[0],p=g[1];return console.log(),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(R,{setFilmsData:b,setIsLoading:r,keyWordSort:s,setKeyWordSort:l,setShowFavoriteList:p,showFavoriteList:O,favoriteList:x}),a?Object(f.jsx)(F,{}):O?Object(f.jsx)(K,{favoriteList:x,setFavoriteList:m}):Object(f.jsx)(U,{filmsData:j,setFilmsData:b,favoriteList:x,setFavoriteList:m,keyWordSort:s,isLoading:a})]})};a(72);o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(Y,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.52bfe4aa.chunk.js.map